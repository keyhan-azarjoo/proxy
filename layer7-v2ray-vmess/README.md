# ğŸ“• Ù„Ø§ÛŒÙ‡ Û·: Ù¾Ø±ÙˆØªÚ©Ù„ V2Ray VMess

> **Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø³Ø·Ø­ Ù¾Ù†Ù‡Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ** â€¢ Ù¾Ø±ÙˆØªÚ©Ù„ Ù…Ø¯Ø±Ù† â€¢ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú†Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø± â€¢ Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† Ø³Ø§Ù†Ø³ÙˆØ±

[â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§ØµÙ„ÛŒ](../README.md)

---

## ğŸ“– Ù„Ø§ÛŒÙ‡ Û· Ú†ÛŒØ³ØªØŸ

Ù„Ø§ÛŒÙ‡ Û· Ø§Ø² Ù¾Ø±ÙˆØªÚ©Ù„ V2Ray VMess Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ - ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ Ù…Ø¯Ø±Ù† Ú©Ù‡ Ù…Ø®ØµÙˆØµ Ø¹Ø¨ÙˆØ± Ø§Ø² Ø³Ø§Ù†Ø³ÙˆØ± Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø§ÛŒÙ† Ù¾Ø±ÙˆØªÚ©Ù„ Ø¨Ù‡ Ú¯ÙˆÙ†Ù‡â€ŒØ§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ú©Ù‡ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø¨Ø§Ø´Ø¯ Ùˆ Ø´Ø¨ÛŒÙ‡ ØªØ±Ø§ÙÛŒÚ© Ù…Ø¹Ù…ÙˆÙ„ÛŒ HTTPS Ø¨Ù‡ Ù†Ø¸Ø± Ø¨Ø±Ø³Ø¯.

### âœ… Ù…Ø²Ø§ÛŒØ§
- ğŸ¥· **Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø³Ø·Ø­ Ù¾Ù†Ù‡Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ** - Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø¨ÙˆØ¯Ù†
- ğŸ” **Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ Ù…Ø¯Ø±Ù†** - AES-128-GCM ÛŒØ§ ChaCha20-Poly1305
- ğŸ“± **Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø§Ø®ØªØµØ§ØµÛŒ** - V2RayNGØŒ NPV Tunnel
- ğŸ‘¥ **Ù…Ø¯ÛŒØ±ÛŒØª Ø¢Ø³Ø§Ù† Ú†Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø±** - Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
- ğŸŒ **Ù…Ø¨Ù‡Ù…â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±ÙˆØªÚ©Ù„** - Ø´Ø¨ÛŒÙ‡ ØªØ±Ø§ÙÛŒÚ© VPN Ø¨Ù‡ Ù†Ø¸Ø± Ù†Ù…ÛŒâ€ŒØ±Ø³Ø¯
- ğŸš« **Ù…Ù‚Ø§ÙˆÙ… Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø³Ø§Ù†Ø³ÙˆØ±** - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ø¯Ø± Ú†ÛŒÙ†ØŒ Ø§ÛŒØ±Ø§Ù† Ùˆ ØºÛŒØ±Ù‡

### âš ï¸ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§
- ğŸ”§ **Ù¾ÛŒÚ†ÛŒØ¯Ù‡â€ŒØªØ±ÛŒÙ† Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ** - Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¯Ø±Ú© V2Ray Ø¯Ø§Ø±Ø¯
- ğŸ“± **Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ** - Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§Ø² Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ SSH Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯
- ğŸ“ **Ù…Ù†Ø­Ù†ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ** - ÙÙ†ÛŒâ€ŒØªØ± Ø§Ø² Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ SSH
- âš™ï¸ **Ù…Ø¯ÛŒØ±ÛŒØª Ù…ØªÙØ§ÙˆØª** - Ø§Ø² ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù†Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† SSH

---

## ğŸ¯ Ø¨Ù‡ØªØ±ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ø§ÛŒ

- ğŸŒ **Ø³Ø§Ù†Ø³ÙˆØ± Ù¾ÛŒØ´Ø±ÙØªÙ‡** - Ú†ÛŒÙ†ØŒ Ø§ÛŒØ±Ø§Ù†ØŒ ØªØ±Ú©Ù…Ù†Ø³ØªØ§Ù† Ùˆ ØºÛŒØ±Ù‡
- ğŸ”’ **Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ** - Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø² Ø¢Ø®Ø±ÛŒÙ† ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯
- ğŸ‘¥ **Ú†Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø±** - Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ØŒ ØªÛŒÙ…ØŒ Ø³Ø§Ø²Ù…Ø§Ù†
- ğŸ“± **Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù…ÙˆØ¨Ø§ÛŒÙ„** - Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ø¹Ø§Ù„ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª
- ğŸš« **Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ SSH Ù…Ø³Ø¯ÙˆØ¯ Ø§Ø³Øª** - Ø­ØªÛŒ Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 443

**Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ** - Ø§Ú¯Ø± ØªØ§Ø²Ù‡â€ŒÚ©Ø§Ø± Ù‡Ø³ØªÛŒØ¯ØŒ Ø¨Ø§ [Ù„Ø§ÛŒÙ‡ Û´](../layer4-nginx/README.md) Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯

---

## ğŸš€ Ù†ØµØ¨

### Ù…Ø±Ø­Ù„Ù‡ Û±: Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù…Ø¬Ø§Ø²ÛŒ (VPS)

```bash
ssh root@YOUR_SERVER_IP
```

### Ù…Ø±Ø­Ù„Ù‡ Û²: Ø§Ø¬Ø±Ø§ÛŒ Ù†ØµØ¨

```bash
curl -fsSL https://raw.githubusercontent.com/myotgo/ssh-socks-proxy/main/layer7-v2ray-vmess/install.sh -o install.sh && bash install.sh
```

ÛŒØ§ Ø§Ø² Ù…Ø®Ø²Ù† Ú©Ù„ÙˆÙ†â€ŒØ´Ø¯Ù‡:

```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash install.sh
```

### Ù…Ø±Ø­Ù„Ù‡ Û³: Ø°Ø®ÛŒØ±Ù‡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø´Ù…Ø§!

**âš ï¸ Ø¨Ø³ÛŒØ§Ø± Ù…Ù‡Ù…:** Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ØµØ¨ ÛŒÚ© UUID Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. **Ø­ØªÙ…Ø§Ù‹ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯!**

```
UUID: 123e4567-e89b-12d3-a456-426614174000
```

Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø§ÛŒÙ† UUID Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¯Ø± `/root/proxy-installation-info.txt` Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª

**Ø²Ù…Ø§Ù† Ú©Ù„: Û±Û°-Û±Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡**

---

## ğŸ‘¤ Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨ÛŒØ´ØªØ±

Ø¨Ø±Ø®Ù„Ø§Ù Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± SSHØŒ V2Ray Ø§Ø² UUID Ø¨Ù‡ Ø¬Ø§ÛŒ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ/Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash add-user.sh myusername
```

Ø§ÛŒÙ† Ú©Ø§Ø±:
- ÛŒÚ© UUID Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ú©Ø§Ø±Ø¨Ø± ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ø¨Ù‡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Xray Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
- Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ú©Ù„Ø§ÛŒÙ†Øª Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
- Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ø¹Ø¯ÛŒ Ø¯Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± ÛŒÚ© UUID Ù…Ù†Ø­ØµØ±Ø¨Ù‡â€ŒÙØ±Ø¯ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯** - Ø¢Ù† Ø±Ø§ Ø¨Ø§ Ø¢Ù†Ù‡Ø§ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ø¨Ú¯Ø°Ø§Ø±ÛŒØ¯ ØªØ§ Ù…ØªØµÙ„ Ø´ÙˆÙ†Ø¯.

---

## ğŸ“± Ø§ØªØµØ§Ù„ Ø§Ø² Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§

### iPhone/iPad (NPV Tunnel)

1. **Ø¯Ø§Ù†Ù„ÙˆØ¯:** [NPV Tunnel](https://apps.apple.com/app/npv-tunnel/id1629891977)
2. **Ø±ÙˆÛŒ "+" Ø¨Ø±Ø§ÛŒ Ø§ÙØ²ÙˆØ¯Ù† Ø§ØªØµØ§Ù„ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯**
3. **"Import from Clipboard" Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯**
4. **Ø§ÛŒÙ† JSON Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯** (Ø§Ø² Ø®Ø±ÙˆØ¬ÛŒ Ù†ØµØ¨):

```json
{
  "outbounds": [{
    "protocol": "vmess",
    "settings": {
      "vnext": [{
        "address": "YOUR_SERVER_IP",
        "port": 443,
        "users": [{
          "id": "YOUR_UUID",
          "alterId": 0,
          "security": "auto"
        }]
      }]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "tls",
      "tlsSettings": {
        "serverName": "proxy.local",
        "allowInsecure": true
      }
    }
  }]
}
```

5. **Ø¨Ú†Ø³Ø¨Ø§Ù†ÛŒØ¯ Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯** âœ…
6. **Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯**

### Android (V2RayNG)

1. **Ø¯Ø§Ù†Ù„ÙˆØ¯:** [V2RayNG](https://play.google.com/store/apps/details?id=com.v2ray.ang) ÛŒØ§ Ø§Ø² [GitHub](https://github.com/2dust/v2rayNG/releases)
2. **Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø±Ø§ Ø¨Ø§Ø² Ú©Ù†ÛŒØ¯**
3. **Ø±ÙˆÛŒ "+" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ â†’ Import config from clipboard**
4. **Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ø±Ø§ Ú©Ù¾ÛŒ Ú©Ù†ÛŒØ¯** (Ù‡Ù…Ø§Ù† iOS Ø¨Ø§Ù„Ø§)
5. **Ø¯Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¨Ú†Ø³Ø¨Ø§Ù†ÛŒØ¯**
6. **Ø±ÙˆÛŒ Ø§ØªØµØ§Ù„ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯** Ùˆ **Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯** âœ…

### Windows (V2RayN)

1. **Ø¯Ø§Ù†Ù„ÙˆØ¯:** [V2RayN](https://github.com/2dust/v2rayN/releases)
2. **Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ùˆ Ø§Ø¬Ø±Ø§ÛŒ V2RayN.exe**
3. **Servers â†’ Add VMess server**
4. **Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¯Ø³ØªÛŒ:**
   - **Address:** Ø¢ÛŒâ€ŒÙ¾ÛŒ VPS Ø´Ù…Ø§
   - **Port:** 443
   - **UUID:** Ø§Ø² Ù†ØµØ¨
   - **AlterID:** 0
   - **Security:** auto
   - **Network:** tcp
   - **TLS:** tls
   - **AllowInsecure:** true
5. **Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø§ØªØµØ§Ù„** âœ…

ÛŒØ§ Ø§Ø² **Import from clipboard** Ø¨Ø§ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

### macOS (V2RayX)

1. **Ø¯Ø§Ù†Ù„ÙˆØ¯:** [V2RayX](https://github.com/Cenmrev/V2RayX/releases)
2. **Ù†ØµØ¨ Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†**
3. **Configure â†’ Servers â†’ Add**
4. **Ø¬Ø²Ø¦ÛŒØ§Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:**
   - **Address:** Ø¢ÛŒâ€ŒÙ¾ÛŒ VPS Ø´Ù…Ø§
   - **Port:** 443
   - **UUID:** Ø§Ø² Ù†ØµØ¨
   - **AlterID:** 0
   - **Security:** auto
   - **Network:** tcp
   - **TLS:** enabled
5. **V2RayX Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯** âœ…

### Linux (V2Ray/Xray)

1. **Ù†ØµØ¨ Xray:**
```bash
bash <(curl -fsSL https://github.com/XTLS/Xray-install/raw/main/install-release.sh)
```

2. **Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ** `/usr/local/etc/xray/config.json`:
```json
{
  "inbounds": [{
    "port": 1080,
    "protocol": "socks",
    "settings": {"udp": true}
  }],
  "outbounds": [{
    "protocol": "vmess",
    "settings": {
      "vnext": [{
        "address": "YOUR_SERVER_IP",
        "port": 443,
        "users": [{"id": "YOUR_UUID", "alterId": 0}]
      }]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "tls",
      "tlsSettings": {"allowInsecure": true}
    }
  }]
}
```

3. **Ø´Ø±ÙˆØ¹:**
```bash
systemctl start xray
```

4. **Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ø±ÙˆÚ©Ø³ÛŒ SOCKS:** `127.0.0.1:1080`

---

## ğŸŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø±

Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ V2Ray Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ†Ø¸ÛŒÙ… Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯. Ø§Ú¯Ø± Ù†Ù‡:

- **SOCKS5 Host:** `127.0.0.1`
- **Port:** `1080` (ÛŒØ§ Ù‡Ø± Ù¾ÙˆØ±ØªÛŒ Ú©Ù‡ Ú©Ù„Ø§ÛŒÙ†Øª V2Ray Ø´Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯)

Ø¨ÛŒØ´ØªØ± Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ V2Ray Ø¯Ú©Ù…Ù‡ "System Proxy" Ø¯Ø§Ø±Ù†Ø¯ - ÙÙ‚Ø· Ø¢Ù† Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†ÛŒØ¯!

---

## ğŸ› ï¸ Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø¯ÛŒØ±ÛŒØªÛŒ

### Ø§ÙØ²ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash add-user.sh username
```

UUID Ø¬Ø¯ÛŒØ¯ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ú©Ù„Ø§ÛŒÙ†Øª Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…
```bash
cd ../common
bash status.sh
```

ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆÛŒØ³ Xray Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Xray
```bash
journalctl -fu xray
```

### Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯ Xray
```bash
systemctl restart xray
```

### Ù„ÛŒØ³Øª ØªÙ…Ø§Ù… Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
```bash
cat /usr/local/etc/xray/users.json
```

Ù†Ú¯Ø§Ø´Øª Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ â†’ UUID Ø±Ø§ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

### Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ
```bash
cd ../common
bash backup-config.sh
```

### Ø­Ø°Ù Ù†ØµØ¨
```bash
cd ../common
bash uninstall.sh
```

---

## ğŸ”§ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯ØŸ

**Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Xray:**
```bash
systemctl status xray
```

Ø¨Ø§ÛŒØ¯ "active (running)" Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ø¯

**Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Xray:**
```bash
journalctl -xe -u xray
```

Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ø®Ø·Ø§Ù‡Ø§ Ø¨Ú¯Ø±Ø¯ÛŒØ¯.

**ØªØ³Øª Ù¾ÙˆØ±Øª 443:**
```bash
ss -tulpn | grep :443
```

Ø¨Ø§ÛŒØ¯ xray Ø±Ø§ Ø¯Ø± Ø­Ø§Ù„ Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡Ø¯.

### "TLS handshake failed"ØŸ

Ø§ÛŒÙ† Ø¨Ø§ Ú¯ÙˆØ§Ù‡ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯Ø§Ù…Ø¶Ø§ Ø·Ø¨ÛŒØ¹ÛŒ Ø§Ø³Øª. Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯:
- Ú©Ù„Ø§ÛŒÙ†Øª **"allowInsecure": true** Ø¯Ø§Ø±Ø¯
- ÛŒØ§ **"Skip certificate verification"** ÙØ¹Ø§Ù„ Ø§Ø³Øª

### Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ú©Ù„Ø§ÛŒÙ†Øª Ú©Ø±Ø´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ

- Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ JSON Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª
- ØºÙ„Ø·â€ŒÙ‡Ø§ÛŒ ØªØ§ÛŒÙ¾ÛŒ Ø¯Ø± UUID Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯
- ØµØ­Øª Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø³Ø±ÙˆØ± Ø±Ø§ ØªØ£ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯
- Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯

### Ø§ØªØµØ§Ù„ Ú©Ù†Ø¯ Ø§Ø³ØªØŸ

**Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø§Ø± Ø³Ø±ÙˆØ±:**
```bash
top
```

**Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ù‡Ù†Ø§ÛŒ Ø¨Ø§Ù†Ø¯:**
```bash
vnstat
```

**Ø§Ù…ØªØ­Ø§Ù† ØªÙ†Ø¸ÛŒÙ… Ø§Ù…Ù†ÛŒØªÛŒ Ù…ØªÙØ§ÙˆØª:**
Ø¯Ø± Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒØŒ `"security": "auto"` Ø±Ø§ Ø¨Ù‡ `"security": "aes-128-gcm"` ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯

### Ø§ØªØµØ§Ù„ Ù‚Ø·Ø¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ

**ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ mux (multiplex) Ø¯Ø± Ú©Ù„Ø§ÛŒÙ†Øª:**
Ø¯Ø± ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„Ø§ÛŒÙ†Øª V2Ray Ø®ÙˆØ¯ØŒ "Mux" Ø±Ø§ Ø¨Ø§ Ù‡Ù…Ø²Ù…Ø§Ù†ÛŒ 8-16 ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯.

---

## âš¡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡

### ØªØºÛŒÛŒØ± Ù¾ÙˆØ±Øª

ÙˆÛŒØ±Ø§ÛŒØ´ `/usr/local/etc/xray/config.json`:
```json
"port": 443  â† Ø§ÛŒÙ† Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯
```

Ø³Ù¾Ø³: `systemctl restart xray`

### ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ CDN (Cloudflare)

Ø¨Ø±Ø§ÛŒ Ù¾Ù†Ù‡Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ Ù†Ù‡Ø§ÛŒÛŒØŒ Ù…Ø³ÛŒØ±ÛŒØ§Ø¨ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Cloudflare CDN:

1. ÛŒÚ© Ù†Ø§Ù… Ø¯Ø§Ù…Ù†Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯
2. Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Cloudflare Ø§Ø´Ø§Ø±Ù‡ Ø¯Ù‡ÛŒØ¯
3. Ù¾Ø±ÙˆÚ©Ø³ÛŒ Cloudflare Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†ÛŒØ¯ (Ø§Ø¨Ø± Ù†Ø§Ø±Ù†Ø¬ÛŒ)
4. Xray Ø±Ø§ Ø¨Ø§ WebSocket + Ø¯Ø§Ù…Ù†Ù‡ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ú©Ù†ÛŒØ¯
5. Ø¨Ù‡ Ø¬Ø§ÛŒ Ø¢ÛŒâ€ŒÙ¾ÛŒ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ø§Ù…Ù†Ù‡ Ù…ØªØµÙ„ Ø´ÙˆÛŒØ¯

*(Ù¾ÛŒØ´Ø±ÙØªÙ‡ - Ù…Ø³ØªÙ†Ø¯Ø§Øª V2Ray Ø±Ø§ Ø¨Ø¨ÛŒÙ†ÛŒØ¯)*

### Ú¯ÙˆØ§Ù‡ÛŒ TLS Ø³ÙØ§Ø±Ø´ÛŒ

Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ Ú¯ÙˆØ§Ù‡ÛŒ Ø®ÙˆØ¯Ø§Ù…Ø¶Ø§ Ø¨Ø§ Let's Encrypt:

```bash
apt install certbot
certbot certonly --standalone -d yourdomain.com
```

Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ù†ÛŒØ¯:
- `/etc/letsencrypt/live/yourdomain.com/fullchain.pem`
- `/etc/letsencrypt/live/yourdomain.com/privkey.pem`

### ØªÙ†Ø¸ÛŒÙ… Ø¹Ù…Ù„Ú©Ø±Ø¯

**ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ** (Ø³Ø±ÛŒØ¹â€ŒØªØ±):
```json
"log": {
  "loglevel": "none"
}
```

**ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ mux Ø¯Ø± Ø³Ø±ÙˆØ±**:
```json
"inbounds": [{
  "muxSettings": {
    "enabled": true,
    "concurrency": 8
  }
}]
```

---

## ğŸ“Š Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ

- **Ù¾Ø±ÙˆØªÚ©Ù„:** VMess (V2Ray)
- **Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ:** Xray-core (Ù†Ø³Ø®Ù‡ Ù…Ø¯Ø±Ù† V2Ray)
- **Ù¾ÙˆØ±Øª:** 443 (Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ…)
- **Ø§Ù†ØªÙ‚Ø§Ù„:** TCP + TLS
- **Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ:** AES-128-GCMØŒ ChaCha20-Poly1305
- **Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª:** Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± UUID
- **Ú†Ù†Ø¯ Ú©Ø§Ø±Ø¨Ø±:** Ø¨Ù„Ù‡ (Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯)

### VMess Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ SSH

| ÙˆÛŒÚ˜Ú¯ÛŒ | SSH (Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Û³-Û¶) | VMess (Ù„Ø§ÛŒÙ‡ Û·) |
|---------|------------------|-----------------|
| **Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ** | Ù…Ù…Ú©Ù† | Ø¨Ø³ÛŒØ§Ø± Ø³Ø®Øª |
| **Ø¹Ù…Ù„Ú©Ø±Ø¯** | Ø³Ø±ÛŒØ¹ | Ø³Ø±ÛŒØ¹ |
| **Ø³Ù† Ù¾Ø±ÙˆØªÚ©Ù„** | Ø¨ÛŒØ´ Ø§Ø² Û³Û° Ø³Ø§Ù„ | Ù…Ø¯Ø±Ù† |
| **Ù‡Ø¯Ù** | Ø´Ù„ Ø§Ø² Ø±Ø§Ù‡ Ø¯ÙˆØ± | Ù¾Ø±ÙˆÚ©Ø³ÛŒ/VPN |
| **Ù…Ù‚Ø§ÙˆÙ…Øª DPI** | Ù…ØªÙˆØ³Ø· | Ø¹Ø§Ù„ÛŒ |
| **Ø§Ù¾â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„** | Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ | ØªØ®ØµØµÛŒ |

### Ú†Ú¯ÙˆÙ†Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯

```
Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ú©Ù„Ø§ÛŒÙ†Øª V2Ray
    â†“
Ù¾Ø±ÙˆØªÚ©Ù„ VMess
    â†“ TCP + TLS Ø±ÙˆÛŒ Ù¾ÙˆØ±Øª 443
Ø´Ø¨ÛŒÙ‡ ØªØ±Ø§ÙÛŒÚ© HTTPS Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯
    â†“
Ø³Ø±ÙˆØ± Xray (VPS)
    â†“ Ø±Ù…Ø²Ú¯Ø´Ø§ÛŒÛŒ Ùˆ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
Freedom (Ø§ÛŒÙ†ØªØ±Ù†Øª Ù…Ø³ØªÙ‚ÛŒÙ…)
    â†“
Ø§ÛŒÙ†ØªØ±Ù†Øª
```

Ù†Ø§Ø¸Ø±Ø§Ù† Ø´Ø¨Ú©Ù‡ Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù†Ø¯: "ØªØ±Ø§ÙÛŒÚ© Ù…Ø¹Ù…ÙˆÙ„ÛŒ HTTPS" âœ…
Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¢Ù† Ø±Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† VPN/Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ù†Ù†Ø¯! ğŸ¥·

---

## ğŸ”„ ØªØºÛŒÛŒØ± Ø±ÙˆØ´â€ŒÙ‡Ø§

**Ø§Ø² SSH (Ù„Ø§ÛŒÙ‡ Û³/Û´/Û¶) Ø¨Ù‡ V2Ray:**
```bash
cd ssh-socks-proxy/common
bash uninstall.sh
cd ../layer7-v2ray-vmess
bash install.sh
```

**Ø§Ø² V2Ray Ø¨Ù‡ SSH:**
Ù‡Ù…Ø§Ù† ÙØ±Ø¢ÛŒÙ†Ø¯ - Ø­Ø°Ù Ù†ØµØ¨ØŒ Ø³Ù¾Ø³ Ù†ØµØ¨ Ù„Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯.

---

## â“ Ø³Ø¤Ø§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„

**Ø³: Ø¢ÛŒØ§ V2Ray Ø¨Ù‡ØªØ± Ø§Ø² SSH Ø§Ø³ØªØŸ**
**Ø¬:** Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø²Ø¯Ù† Ø³Ø§Ù†Ø³ÙˆØ±ØŒ Ø¨Ù„Ù‡. Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø¯Ú¯ÛŒØŒ Ø®ÛŒØ±. Ø¨Ø± Ø§Ø³Ø§Ø³ Ù†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ø®ÙˆØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.

**Ø³: Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø§Ø² Ø§ÛŒÙ† Ø¯Ø± Ú†ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù…ØŸ**
**Ø¬:** Ø¨Ù„Ù‡! V2Ray/VMess Ø¨Ù‡ Ø·ÙˆØ± Ú¯Ø³ØªØ±Ø¯Ù‡ Ø¯Ø± Ú†ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¨Ø±Ø§ÛŒ Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¨Ù‡ØªØ±ØŒ Ø§ÙØ²ÙˆØ¯Ù† CDN Ø±Ø§ Ø¯Ø± Ù†Ø¸Ø± Ø¨Ú¯ÛŒØ±ÛŒØ¯.

**Ø³: Ú†Ø±Ø§ Ø¨Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù…ØŸ**
**Ø¬:** VMess Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ SSH Ù†ÛŒØ³Øª. Ø§ÛŒÙ† ÛŒÚ© Ù¾Ø±ÙˆØªÚ©Ù„ Ø³ÙØ§Ø±Ø´ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ú©Ù„Ø§ÛŒÙ†Øªâ€ŒÙ‡Ø§ÛŒ V2Ray Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯.

**Ø³: Ø¢ÛŒØ§ Ø§ÛŒÙ† Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø§Ø³ØªØŸ**
**Ø¬:** Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ©Ø³ÛŒ Ø®ÙˆØ¯ Ø¯Ø± Ø¨ÛŒØ´ØªØ± Ú©Ø´ÙˆØ±Ù‡Ø§ Ù‚Ø§Ù†ÙˆÙ†ÛŒ Ø§Ø³Øª. Ø¨Ø§ Ø§ÛŒÙ† Ø­Ø§Ù„ØŒ Ù‚ÙˆØ§Ù†ÛŒÙ† Ù…Ø­Ù„ÛŒ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.

**Ø³: Ø¢ÛŒØ§ ISP Ù…Ù† Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ V2Ray Ø±Ø§ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ù†Ø¯ØŸ**
**Ø¬:** Ø¨Ø³ÛŒØ§Ø± Ø¯Ø´ÙˆØ§Ø±. VMess Ø¨Ø±Ø§ÛŒ Ø´Ø¨ÛŒÙ‡ Ø¨Ù‡ ØªØ±Ø§ÙÛŒÚ© Ù…Ø¹Ù…ÙˆÙ„ÛŒ HTTPS Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.

**Ø³: ØªÙØ§ÙˆØª Ø¨ÛŒÙ† VMess Ùˆ VLESS Ú†ÛŒØ³ØªØŸ**
**Ø¬:** VLESS Ø¬Ø¯ÛŒØ¯ØªØ±ØŒ Ø³Ø¨Ú©â€ŒØªØ± Ùˆ Ú©Ù…ÛŒ Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø§Ø³Øª. VMess ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±Ø¯. Ù‡Ø± Ø¯Ùˆ Ø¹Ø§Ù„ÛŒ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.

**Ø³: Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… ÛŒÚ© UUID Ø±Ø§ Ø¨Ø§ Ú†Ù†Ø¯ÛŒÙ† Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø¨Ù‡ Ø§Ø´ØªØ±Ø§Ú© Ø¨Ú¯Ø°Ø§Ø±Ù…ØŸ**
**Ø¬:** Ø¨Ù„Ù‡ØŒ Ø§Ù…Ø§ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø§Ù…Ù†ÛŒØª Ùˆ Ø±Ø¯ÛŒØ§Ø¨ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯.

**Ø³: Ø¢ÛŒØ§ Ø§ÛŒÙ† Ø¯Ø± Ø§ÛŒØ±Ø§Ù†/Ú†ÛŒÙ†/ØºÛŒØ±Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ**
**Ø¬:** Ø¨Ù„Ù‡ØŒ V2Ray Ø¨Ù‡ Ø·ÙˆØ± Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø³Ù†Ø§Ø±ÛŒÙˆÙ‡Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ù†ØªØ§ÛŒØ¬ Ø¨Ø§ CDN Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

---

## ğŸ“ Ù…Ù†Ø§Ø¨Ø¹

### Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø³Ù…ÛŒ
- [V2Ray Official](https://www.v2ray.com/)
- [Xray Documentation](https://xtls.github.io/)

### Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§ÛŒÙ†Øª
- **iOS:** [NPV Tunnel](https://apps.apple.com/app/npv-tunnel/id1629891977), [Shadowrocket](https://apps.apple.com/app/shadowrocket/id932747118)
- **Android:** [V2RayNG](https://github.com/2dust/v2rayNG), [V2RayN](https://github.com/2dust/v2rayN)
- **Windows:** [V2RayN](https://github.com/2dust/v2rayN), [Qv2ray](https://github.com/Qv2ray/Qv2ray)
- **macOS:** [V2RayX](https://github.com/Cenmrev/V2RayX), [Qv2ray](https://github.com/Qv2ray/Qv2ray)
- **Linux:** [Qv2ray](https://github.com/Qv2ray/Qv2ray), command-line xray

### ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø¨ÛŒØ´ØªØ±
- [V2Ray Beginner's Guide](https://guide.v2fly.org/)
- [Project X Community](https://xtls.github.io/)

---

## ğŸŒŸ Ú†Ø±Ø§ V2RayØŸ

V2Ray/Xray Ø¨Ù‡ Ø·ÙˆØ± Ø®Ø§Øµ Ø¨Ø±Ø§ÛŒ Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø¨Ø§ Ø³Ø§Ù†Ø³ÙˆØ± Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ø¨Ø±Ø®Ù„Ø§Ù VPNÙ‡Ø§ÛŒ Ø³Ù†ØªÛŒ ÛŒØ§ Ù¾Ø±ÙˆÚ©Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ SSH:

- **Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ù…Ø³Ø¯ÙˆØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯** - Ù…Ø¨Ù‡Ù…â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø±ÙˆØªÚ©Ù„
- **Ø·Ø¨ÛŒØ¹ÛŒ Ø¨Ù‡ Ù†Ø¸Ø± Ù…ÛŒâ€ŒØ±Ø³Ø¯** - ØªÙ‚Ù„ÛŒØ¯ Ø§Ø² ØªØ±Ø§ÙÛŒÚ© Ù…Ø¹Ù…ÙˆÙ„ÛŒ HTTPS
- **Ø¨Ù‡ Ø·ÙˆØ± ÙØ¹Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ù…ÛŒâ€ŒÛŒØ§Ø¨Ø¯** - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø¸Ù… Ø¨Ø±Ø§ÛŒ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù…Ø³Ø¯ÙˆØ¯Ø³Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
- **Ø¢Ø²Ù…Ø§ÛŒØ´ Ø´Ø¯Ù‡ Ø¯Ø± Ø¹Ù…Ù„** - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ ØªÙˆØ³Ø· Ù…ÛŒÙ„ÛŒÙˆÙ†â€ŒÙ‡Ø§ Ù†ÙØ± Ø¯Ø± Ú©Ø´ÙˆØ±Ù‡Ø§ÛŒ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒØ¯Ø§Ø±
- **Ù…Ù†Ø¨Ø¹ Ø¨Ø§Ø²** - Ø´ÙØ§Ù Ùˆ ØªÙˆØ³Ø· Ø¬Ø§Ù…Ø¹Ù‡ Ù‡Ø¯Ø§ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆØ¯

Ø§Ú¯Ø± Ø¯Ø± Ú©Ø´ÙˆØ±ÛŒ Ø¨Ø§ Ø³Ø§Ù†Ø³ÙˆØ± ÙØ¹Ø§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ù‡Ø³ØªÛŒØ¯ØŒ Ø§ÛŒÙ† Ø¨Ù‡ØªØ±ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø´Ù…Ø§Ø³Øª.

---

[â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§ØµÙ„ÛŒ](../README.md) | [Ù…Ù‚Ø§ÛŒØ³Ù‡ ØªÙ…Ø§Ù… Ø±ÙˆØ´â€ŒÙ‡Ø§ â†’](../README.md#comparison-chart)

**Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ø§ Ù…Ø­Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø¢Ø²Ø§Ø¯ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª**

---

# ğŸ“• Layer 7: V2Ray VMess Protocol

> **Maximum stealth** â€¢ Modern protocol â€¢ Multi-user support â€¢ Best for censorship

[â† Back to main guide](../README.md)

---

## ğŸ“– What is Layer 7?

Layer 7 uses the V2Ray VMess protocol - a modern, purpose-built protocol designed to bypass censorship. It's specifically designed to be undetectable and look like normal HTTPS traffic.

### âœ… Advantages
- ğŸ¥· **Maximum stealth** - Designed to be undetectable
- ğŸ” **Modern encryption** - AES-128-GCM or ChaCha20-Poly1305
- ğŸ“± **Native mobile apps** - V2RayNG, NPV Tunnel
- ğŸ‘¥ **Easy multi-user** - Add users without restarting
- ğŸŒ **Protocol obfuscation** - Doesn't look like VPN traffic
- ğŸš« **Censorship resistant** - Used in China, Iran, etc.

### âš ï¸ Limitations
- ğŸ”§ **Most complex setup** - Requires understanding V2Ray
- ğŸ“± **Specific apps needed** - Not standard SSH clients
- ğŸ“ **Learning curve** - More technical than SSH methods
- âš™ï¸ **Different management** - Uses JSON configs, not SSH users

---

## ğŸ¯ Best For

- ğŸŒ **Advanced censorship** - China, Iran, Turkmenistan, etc.
- ğŸ”’ **Maximum privacy** - Want the latest technology
- ğŸ‘¥ **Multiple users** - Family, team, organization
- ğŸ“± **Mobile-first users** - Great mobile apps available
- ğŸš« **When SSH is blocked** - Even on port 443

**For experts** - If you're new, start with [Layer 4](../layer4-nginx/README.md)

---

## ğŸš€ Installation

### Step 1: Connect to VPS

```bash
ssh root@YOUR_SERVER_IP
```

### Step 2: Run Installation

```bash
curl -fsSL https://raw.githubusercontent.com/myotgo/ssh-socks-proxy/main/layer7-v2ray-vmess/install.sh -o install.sh && bash install.sh
```

Or from cloned repo:

```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash install.sh
```

### Step 3: Save Your Configuration!

**âš ï¸ CRITICAL:** The installer will show a UUID and JSON config. **SAVE THIS!**

```
UUID: 123e4567-e89b-12d3-a456-426614174000
```

You'll need this UUID to connect. It's also saved in `/root/proxy-installation-info.txt`

**Total time: 10-15 minutes**

---

## ğŸ‘¤ Adding More Users

Unlike SSH-based methods, V2Ray uses UUIDs instead of usernames/passwords.

```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash add-user.sh myusername
```

This will:
- Generate a new UUID for that user
- Add to Xray configuration
- Show client configuration JSON
- Save to database for future reference

**Each user gets a unique UUID** - share this with them to connect.

---

## ğŸ“± Connecting from Your Devices

### iPhone/iPad (NPV Tunnel)

1. **Download:** [NPV Tunnel](https://apps.apple.com/app/npv-tunnel/id1629891977)
2. **Tap "+" to add connection**
3. **Select "Import from Clipboard"**
4. **Copy this JSON** (from installation output):

```json
{
  "outbounds": [{
    "protocol": "vmess",
    "settings": {
      "vnext": [{
        "address": "YOUR_SERVER_IP",
        "port": 443,
        "users": [{
          "id": "YOUR_UUID",
          "alterId": 0,
          "security": "auto"
        }]
      }]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "tls",
      "tlsSettings": {
        "serverName": "proxy.local",
        "allowInsecure": true
      }
    }
  }]
}
```

5. **Paste and import** âœ…
6. **Connect**

### Android (V2RayNG)

1. **Download:** [V2RayNG](https://play.google.com/store/apps/details?id=com.v2ray.ang) or from [GitHub](https://github.com/2dust/v2rayNG/releases)
2. **Open app**
3. **Tap "+" â†’ Import config from clipboard**
4. **Copy the JSON config** (same as iOS above)
5. **Paste into app**
6. **Tap the connection** and **connect** âœ…

### Windows (V2RayN)

1. **Download:** [V2RayN](https://github.com/2dust/v2rayN/releases)
2. **Extract and run V2RayN.exe**
3. **Servers â†’ Add VMess server**
4. **Manual configuration:**
   - **Address:** Your VPS IP
   - **Port:** 443
   - **UUID:** From installation
   - **AlterID:** 0
   - **Security:** auto
   - **Network:** tcp
   - **TLS:** tls
   - **AllowInsecure:** true
5. **Save and connect** âœ…

Or use **Import from clipboard** with the JSON config.

### macOS (V2RayX)

1. **Download:** [V2RayX](https://github.com/Cenmrev/V2RayX/releases)
2. **Install and open**
3. **Configure â†’ Servers â†’ Add**
4. **Enter details:**
   - **Address:** Your VPS IP
   - **Port:** 443
   - **UUID:** From installation
   - **AlterID:** 0
   - **Security:** auto
   - **Network:** tcp
   - **TLS:** enabled
5. **Turn on V2RayX** âœ…

### Linux (V2Ray/Xray)

1. **Install Xray:**
```bash
bash <(curl -fsSL https://github.com/XTLS/Xray-install/raw/main/install-release.sh)
```

2. **Create config** `/usr/local/etc/xray/config.json`:
```json
{
  "inbounds": [{
    "port": 1080,
    "protocol": "socks",
    "settings": {"udp": true}
  }],
  "outbounds": [{
    "protocol": "vmess",
    "settings": {
      "vnext": [{
        "address": "YOUR_SERVER_IP",
        "port": 443,
        "users": [{"id": "YOUR_UUID", "alterId": 0}]
      }]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "tls",
      "tlsSettings": {"allowInsecure": true}
    }
  }]
}
```

3. **Start:**
```bash
systemctl start xray
```

4. **Use SOCKS proxy:** `127.0.0.1:1080`

---

## ğŸŒ Browser Configuration

V2Ray apps usually set up system proxy automatically. If not:

- **SOCKS5 Host:** `127.0.0.1`
- **Port:** `1080` (or whatever your V2Ray client uses)

Most V2Ray clients have a "System Proxy" toggle - just turn it on!

---

## ğŸ› ï¸ Management Commands

### Add New User
```bash
cd ssh-socks-proxy/layer7-v2ray-vmess
bash add-user.sh username
```

Generates new UUID and shows client config.

### Check System Status
```bash
cd ../common
bash status.sh
```

Shows Xray service status.

### View Xray Logs
```bash
journalctl -fu xray
```

### Restart Xray
```bash
systemctl restart xray
```

### List All Users
```bash
cat /usr/local/etc/xray/users.json
```

Shows username â†’ UUID mapping.

### Backup Configuration
```bash
cd ../common
bash backup-config.sh
```

### Uninstall
```bash
cd ../common
bash uninstall.sh
```

---

## ğŸ”§ Troubleshooting

### Can't Connect?

**Check Xray is running:**
```bash
systemctl status xray
```

Should say "active (running)"

**Check Xray logs:**
```bash
journalctl -xe -u xray
```

Look for errors.

**Test port 443:**
```bash
ss -tulpn | grep :443
```

Should show xray listening.

### "TLS handshake failed"?

This is normal with self-signed certificates. Make sure:
- Client has **"allowInsecure": true**
- Or **"Skip certificate verification"** enabled

### Client app crashes?

- Make sure JSON config is valid
- Check for typos in UUID
- Verify server IP is correct
- Try re-importing config

### Slow connection?

**Check server load:**
```bash
top
```

**Check bandwidth:**
```bash
vnstat
```

**Try different security setting:**
In config, change `"security": "auto"` to `"security": "aes-128-gcm"`

### Connection drops?

**Enable mux (multiplex) in client:**
In your V2Ray client settings, enable "Mux" with concurrency 8-16.

---

## âš¡ Advanced Configuration

### Change Port

Edit `/usr/local/etc/xray/config.json`:
```json
"port": 443  â† change this
```

Then: `systemctl restart xray`

### Enable CDN (Cloudflare)

For ultimate stealth, route through Cloudflare CDN:

1. Get a domain name
2. Point it to Cloudflare
3. Enable Cloudflare proxy (orange cloud)
4. Configure Xray with WebSocket + domain
5. Connect via domain instead of IP

*(Advanced - see V2Ray documentation)*

### Custom TLS Certificate

Replace self-signed cert with Let's Encrypt:

```bash
apt install certbot
certbot certonly --standalone -d yourdomain.com
```

Update config to use:
- `/etc/letsencrypt/live/yourdomain.com/fullchain.pem`
- `/etc/letsencrypt/live/yourdomain.com/privkey.pem`

### Performance Tuning

**Disable logging** (faster):
```json
"log": {
  "loglevel": "none"
}
```

**Enable mux on server**:
```json
"inbounds": [{
  "muxSettings": {
    "enabled": true,
    "concurrency": 8
  }
}]
```

---

## ğŸ“Š Technical Details

- **Protocol:** VMess (V2Ray)
- **Implementation:** Xray-core (modern V2Ray fork)
- **Port:** 443 (configurable)
- **Transport:** TCP + TLS
- **Encryption:** AES-128-GCM, ChaCha20-Poly1305
- **Authentication:** UUID-based
- **Multi-user:** Yes (unlimited)

### VMess vs SSH

| Feature | SSH (Layers 3-6) | VMess (Layer 7) |
|---------|------------------|-----------------|
| **Detection** | Possible | Very hard |
| **Performance** | Fast | Fast |
| **Protocol age** | 30+ years | Modern |
| **Purpose** | Remote shell | Proxy/VPN |
| **DPI resistance** | Medium | Excellent |
| **Mobile apps** | Standard | Specialized |

### How It Works

```
V2Ray Client App
    â†“
VMess protocol
    â†“ TCP + TLS on port 443
Looks like HTTPS traffic
    â†“
Xray Server (VPS)
    â†“ Decrypts & validates
Freedom (direct internet)
    â†“
Internet
```

Network observers see: "Regular HTTPS traffic" âœ…
Can't identify it as VPN/proxy! ğŸ¥·

---

## ğŸ”„ Switching Methods

**From SSH-based (Layer 3/4/6) to V2Ray:**
```bash
cd ssh-socks-proxy/common
bash uninstall.sh
cd ../layer7-v2ray-vmess
bash install.sh
```

**From V2Ray back to SSH:**
Same process - uninstall, then install the layer you want.

---

## â“ FAQ

**Q: Is V2Ray better than SSH?**
**A:** For bypassing censorship, yes. For simplicity, no. Pick based on your needs.

**Q: Can I use this in China?**
**A:** Yes! V2Ray/VMess is widely used in China. Consider adding CDN for even better reliability.

**Q: Why do I need special apps?**
**A:** VMess is not standard SSH. It's a custom protocol requiring V2Ray clients.

**Q: Is this legal?**
**A:** Running your own proxy is legal in most countries. However, check local laws.

**Q: Can my ISP detect V2Ray?**
**A:** Very difficult. VMess is designed to look like normal HTTPS traffic.

**Q: What's the difference between VMess and VLESS?**
**A:** VLESS is newer, lighter, slightly faster. VMess has more features. Both work great.

**Q: Can I share one UUID with multiple devices?**
**A:** Yes, but it's better to create separate users for security and tracking.

**Q: Does this work in Iran/China/etc?**
**A:** Yes, V2Ray is specifically designed for these scenarios. Use with CDN for best results.

---

## ğŸ“ Resources

### Official Documentation
- [V2Ray Official](https://www.v2ray.com/)
- [Xray Documentation](https://xtls.github.io/)

### Client Apps
- **iOS:** [NPV Tunnel](https://apps.apple.com/app/npv-tunnel/id1629891977), [Shadowrocket](https://apps.apple.com/app/shadowrocket/id932747118)
- **Android:** [V2RayNG](https://github.com/2dust/v2rayNG), [V2RayN](https://github.com/2dust/v2rayN)
- **Windows:** [V2RayN](https://github.com/2dust/v2rayN), [Qv2ray](https://github.com/Qv2ray/Qv2ray)
- **macOS:** [V2RayX](https://github.com/Cenmrev/V2RayX), [Qv2ray](https://github.com/Qv2ray/Qv2ray)
- **Linux:** [Qv2ray](https://github.com/Qv2ray/Qv2ray), command-line xray

### Learning More
- [V2Ray Beginner's Guide](https://guide.v2fly.org/)
- [Project X Community](https://xtls.github.io/)

---

## ğŸŒŸ Why V2Ray?

V2Ray/Xray was created specifically to fight internet censorship. Unlike traditional VPNs or SSH proxies:

- **Not easily blocked** - Protocol obfuscation
- **Looks normal** - Mimics regular HTTPS traffic
- **Actively developed** - Regular updates for new blocking methods
- **Battle-tested** - Used by millions in restrictive countries
- **Open source** - Transparent and community-driven

If you're in a country with active internet censorship, this is your best option.

---

[â† Back to main guide](../README.md) | [Compare all methods â†’](../README.md#comparison-chart)

**Made with â¤ï¸ for internet freedom**
